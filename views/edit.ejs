<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<link
			rel="stylesheet"
			href="/css/style.css"
		/>
		<title>QuizLearn</title>
	</head>
	<body class="bg-gray-900 h-full">
		<%- include("./partials/navbar.ejs") %>
		<main
			class="bg-gray-900 h-screen pt-[68px] px-32 flex flex-col items-center"
		>
			<section class="pt-7 w-full pb-10">
				<form
					data-currentcard="<%= currentDeck._id %>"
					onsubmit="handleSubmit(event)"
				>
					<header class="flex justify-between mt-5 mb-6">
						<h1 class="font-bold text-3xl text-white text-left">Edit Deck</h1>
						<button
							type="submit"
							id="submit"
							class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
						>
							Save
						</button>
					</header>
					<label
						for="title"
						class="block mb-2 text-lg font-medium text-gray-900 dark:text-white"
						>Title</label
					>
					<input
						name="title"
						type="text"
						id="title"
						class="border text-sm rounded-lg block w-full px-2.5 py-3 bg-[#2e3856] border-gray-600 placeholder-gray-400 text-white focus:ring-blue-500 focus:border-blue-500"
						placeholder="Enter Your Title"
						value="<%= currentDeck.title %>"
						required
					/>
					<section
						id="card-holder"
						class="mt-9 grid gap-y-6 mb-6"
					>
						<% currentDeck.cards.forEach((card, index)=> { %>
						<div id="card-<%= index + 1 %>">
							<div class="rounded-lg w-full bg-[#2e3856] text-white">
								<div
									class="w-full px-5 py-4 flex justify-between border-b-2 border-black"
								>
									<span class="text-sm font-bold"><%= index + 1 %></span>
									<button
										type="button"
										id="delete-card"
										data-cardnumber="<%= index + 1 %>"
									>
										<img
											class="w-5 h-5 object-cover"
											src="/assets/delete.svg"
											alt=""
										/>
									</button>
								</div>
								<div class="py-5 px-5 flex gap-x-10 justify-center">
									<div class="w-full">
										<input
											type="text"
											name="question<%= index + 1 %>"
											class="text-sm block w-full border-b-4 pb-2 border-gray-600 placeholder-gray-400 bg-[#2e3856] text-white focus:outline-none focus:border-white focus:bg-[#2e3856] question"
											placeholder="Enter Your Question"
											value="<%= card.question %>"
											required
										/>
										<p class="text-sm font-bold tracking-tight mt-2">
											Question
										</p>
									</div>
									<div class="w-full">
										<input
											type="text"
											name="answer<%= index + 1 %>"
											class="text-sm block w-full border-b-4 pb-2 border-gray-600 placeholder-gray-400 bg-[#2e3856] text-white focus:outline-none focus:border-white focus:bg-[#2e3856] answer"
											placeholder="Enter Your Question"
											value="<%= card.answer %>"
											required
										/>
										<p class="text-sm font-bold tracking-tight mt-2">
											Question
										</p>
									</div>
								</div>
							</div>
						</div>
						<% }) %>
					</section>
				</form>
				<button
					id="add-card"
					class="w-full bg-[#2e3856] text-white py-10 rounded-lg hover:underline hover:underline-offset-4 font-bold text-lg"
				>
					Add a Card
				</button>
			</section>
		</main>
		<script src="/scripts/editDeck.js"></script>
	</body>
</html>
